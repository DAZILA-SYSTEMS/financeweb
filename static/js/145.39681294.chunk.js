"use strict";(self.webpackChunkfinancetechsystem=self.webpackChunkfinancetechsystem||[]).push([[145],{7146:function(n,e,t){t.d(e,{FH:function(){return o},Ld:function(){return c}});var s=t(4165),a=t(5861),i=(t(2062),t(4801)),r=t(1620),c=function(){var n=(0,a.Z)((0,s.Z)().mark((function n(e,t,a,r){var c,l=arguments;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=l.length>5&&void 0!==l[5]?l[5]:{},"fetch"===(l.length>4&&void 0!==l[4]?l[4]:"fetch")?o(e,t,r,a):parseInt(t)!==parseInt(c.instLinker)&&parseInt(c.softwareId)!==parseInt(parseInt("".concat(t).split("").reverse().join(""))/1e3)||a((0,i.m$)(c));case 3:case"end":return n.stop()}}),n)})));return function(e,t,s,a){return n.apply(this,arguments)}}(),o=function(n,e,t,s){fetch("".concat(r.l,"/sub/get"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(n)},body:JSON.stringify({online:t,instLinker:e})}).then((function(n){return n.json()})).then((function(n){200===n.status&&s((0,i.U6)(n.subs))})).catch((function(){}))}},5145:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var s=t(9439),a=t(2791),i=t(7689),r=t(9434),c=t(1162),o=t(5124),l=t(8598),u=t(555),d=t(7856),p=t(184),k=function(n){var e=n.setDrawer,t=n.navigate;return"Kenya"===(0,r.v9)((function(n){return n.inst.activeInst})).sub?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("modes/mpesa-setup")},children:"Mpesa SetUp"})}),(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("mpesa-payments")},children:"Mpesa Payments"})})]}):(0,p.jsx)(p.Fragment,{})},x=function(n){var e=n.setDrawer,t=(0,i.s0)(),s=(0,r.v9)((function(n){return n.inst.activeInst}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.Z,{style:{width:"100%"},children:[(0,p.jsxs)(c.Z.Toggle,{variant:"transparent",className:"nav-link",children:[(0,p.jsx)(o.Z,{})," Admin"," "]}),(0,p.jsxs)(c.Z.Menu,{variant:"dark",children:[(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("branches")},children:"Branches"})}),(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("groups")},children:"Groups"})}),(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("accounts")},children:"Accounts"})}),(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("modes")},children:"Payment Modes"})})," ",(0,p.jsx)(k,{setDrawer:e,navigate:t}),(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("edit")},children:"Edit Institution"})})]})]}),(0,p.jsx)("hr",{}),(0,p.jsxs)(c.Z,{style:{width:"100%"},children:[(0,p.jsxs)(c.Z.Toggle,{variant:"transparent",className:"nav-link",children:[(0,p.jsx)(l.Z,{})," Notifications"]}),(0,p.jsxs)(c.Z.Menu,{variant:"dark",children:["Kenya"===s.sub?(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("bulk-sms")},children:"Bulk Sms"})}):null,(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("notifications")},children:"Notifications"})})]})]}),(0,p.jsx)("hr",{}),(0,p.jsxs)(c.Z,{style:{width:"100%"},children:[(0,p.jsxs)(c.Z.Toggle,{variant:"transparent",className:"nav-link",children:[(0,p.jsx)(u.Z,{})," H.R. Manager"]}),(0,p.jsxs)(c.Z.Menu,{variant:"dark",children:[(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("staffs")},children:"Staffs"})}),(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("payroll-items")},children:"Payroll Items"})})," ",(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){window.scroll(0,0),e(!1),t("payroll-summary")},children:"Payroll Summary"})})]})]}),(0,p.jsx)("hr",{}),(0,p.jsxs)(c.Z,{style:{width:"100%"},children:[(0,p.jsxs)(c.Z.Toggle,{className:"nav-link",variant:"transparent",children:[(0,p.jsx)(d.Z,{})," Expenses"]}),(0,p.jsxs)(c.Z.Menu,{variant:"dark",children:[(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("expensecats")},children:"Expense Categories"})}),(0,p.jsx)(c.Z.Item,{children:(0,p.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("expenses")},children:"Expenses"})})," "]})]})," ",(0,p.jsx)("hr",{})]})},m=t(3872),h=t(2841),j=t(1838),f=t(3427),v=t(8090),g=t(7444),w=t(3389),I=t(9250),y=t(4169),b=t(2463),N=t(7866),Z=t(3750),C=t(645),L=t(9362),T=t(9807),V=t(7001),A=t(9904),S=t(4915),F=t(6554),P=t(7146),Y=t(1455),z=t(4979),D=t(2389),E=t(8715),M=t(8086),X=t(390),W=function(){var n=(0,r.I0)(),e=(0,r.v9)((function(n){return n.auth.user})),t=(0,r.v9)((function(n){return n.online.online})),s=(0,r.v9)((function(n){return n.cred.activeCred}));return(0,a.useEffect)((function(){b.W.on("message",(function(a){"notification"===a.messageType&&("serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then((function(n){n.showNotification(a.dataValues.title,{body:a.dataValues.note,icon:""})})).catch((function(n){return console.log(n)})),(0,D.gQ)(e.token,s.instLinker,n,t,"socket",a.dataValues)),"staff"===a.messageType&&(0,N.Ui)(s.instLinker,e.token,n,t,"socket",a.dataValues),"mode"===a.messageType&&(0,Z.yl)(e.token,s.instLinker,n,t,"socket",a.dataValues),"expenseCat"===a.messageType&&(0,C.kt)(e.token,s.instLinker,n,t,"socket",a.dataValues),"expense"===a.messageType&&(0,L.mX)(e.token,s.instLinker,n,t,"socket",a.dataValues),"account"===a.messageType&&(0,T.xY)(e.token,s.instLinker,n,t,"socket",a.dataValues),"application"===a.messageType&&(0,V.Xk)(e.token,s.instLinker,n,t,"socket",a.dataValues),"branch"===a.messageType&&(0,A.YR)(e.token,s.instLinker,n,t,"socket",a.dataValues),"entry"===a.messageType&&(0,S.Zj)(e.token,s.instLinker,n,t,"socket",a.dataValues),"online-payment"===a.messageType&&(0,Y.a)(e.token,s.instLinker,n,t,"socket",a.dataValues),"group"===a.messageType&&(0,F.xc)(e.token,s.instLinker,n,t,"socket",a.dataValues),"client"===a.messageType&&(0,N.lX)(s.instLinker,e.token,n,t,"socket",a.dataValues),"payrollCat"===a.messageType&&(0,E.$O)(e.token,s.instLinker,n,t,"socket",a.dataValues),"payrollItem"===a.messageType&&(0,X.qI)(e.token,s.instLinker,n,t,"socket",a.dataValues),"payrollEntry"===a.messageType&&(0,M.gI)(e.token,s.instLinker,n,t,"socket",a.dataValues),"sub"===a.messageType&&(0,P.Ld)(e.token,s.instLinker,n,t,"socket",a.dataValues),"sms"===a.messageType&&(0,z.Vc)(e.token,s.instLinker,n,t,"socket",a.dataValues)}))}),[]),(0,p.jsx)(p.Fragment,{})},O=t(4165),U=t(5861),B=t(6461),R=t(6548),$=t(5420),q=t(7185),H=function(){var n=(0,r.I0)(),e=(0,r.v9)((function(n){return n.auth.user})),t=(0,r.v9)((function(n){return n.cred.activeCred})),i=(0,r.v9)((function(n){return n.online.online})),c=(0,r.v9)((function(n){return n.inst.activeInst})),o=(0,r.v9)((function(n){return n.cred.creds})),l=(0,a.useState)(!1),u=(0,s.Z)(l,2),d=u[0],k=u[1],x=(0,a.useState)(!1),m=(0,s.Z)(x,2),h=m[0],j=m[1];(0,a.useEffect)((function(){f()}),[h,e]);var f=function(){var t=(0,U.Z)((0,O.Z)().mark((function t(){var s;return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=15;break}if(k(!0),e.token){t.next=8;break}return t.next=5,v();case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=e;case 9:if(s=t.t0,c.id&&0!=c.id){t.next=13;break}return t.next=13,(0,$.jB)(c,s,n);case 13:g(s),k(!1);case 15:b.W.on("connect",(function(){j(!0)})),b.W.on("disconnect",(function(){j(!1)})),(0,b.z)({clientId:"".concat(parseInt(parseInt("".concat(c.linker).split("").reverse().join(""))/1e3))}),o.map((function(n){n.email!=e.logger&&n.contact!=e.logger||(0,b.z)({token:e.token,instLinker:n.instLinker,room:n.instLinker})}));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,U.Z)((0,O.Z)().mark((function t(){var s,a;return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.F6)(e.logger);case 2:if("register"!==(s=t.sent)&&0!==s){t.next=9;break}return t.next=6,(0,B.a4)(e.logger,e.password,e.linker,e.linker);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,(0,B.YV)(e.logger,e.password);case 11:a=t.sent;case 12:if(!a.token||!a.user){t.next=15;break}return n((0,R.x4)({name:e.name,email:e.logger,password:e.password,linker:e.linker,live:1,token:a.token,logger:e.logger,id:a.user.id})),t.abrupt("return",{name:e.name,email:e.logger,password:e.password,linker:e.linker,live:1,token:a.token,logger:e.logger,id:a.user.id});case 15:return t.abrupt("return",e);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(e){1===parseInt(t.admin)&&(0,N.Ui)(t.instLinker,e.token,n,i),1!==parseInt(t.admin)&&1!==parseInt(t.staff)||((0,S.Zj)(e.token,t.instLinker,n,i),(0,F.xc)(e.token,t.instLinker,n,i),(0,V.Xk)(e.token,t.instLinker,n,i),(0,A.YR)(e.token,t.instLinker,n,i),(0,N.lX)(t.instLinker,e.token,n,i),(0,L.mX)(e.token,t.instLinker,n,i),(0,C.kt)(e.token,t.instLinker,n,i),(0,q.f_)(e.token,t.instLinker,n,i),(0,Y.a)(e.token,t.instLinker,n,i),(0,z.Vc)(e.token,t.instLinker,n,i),(0,E.$O)(e.token,t.instLinker,n,i),(0,M.gI)(e.token,t.instLinker,n,i),(0,X.qI)(e.token,t.instLinker,n,i)),(0,Z.yl)(e.token,t.instLinker,n,i),(0,P.Ld)(e.token,t.instLinker,n,i),(0,T.xY)(e.token,t.instLinker,n,i)};return(0,p.jsx)(p.Fragment,{})},K=t(8920),G=function(){var n=(0,i.s0)(),e=(0,r.v9)((function(n){return n.inst.activeInst})),t=(0,r.v9)((function(n){return n.auth.user})),c=(0,r.v9)((function(n){return n.sub.subs})),o=(0,r.v9)((function(n){return n.cred.activeCred})),l=(0,y.C)(c,o.instLinker),u=(0,a.useState)(!1),d=(0,s.Z)(u,2),k=d[0],b=d[1];return(0,a.useEffect)((function(){o.linker||n("/")}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(K.Z,{ToggleDrawer:function(){return b(!k)}}),(0,p.jsxs)("div",{style:{marginTop:"40px"},children:[(0,p.jsx)(W,{}),(0,p.jsx)(H,{}),(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsxs)("div",{className:"bg-secondary ".concat(k?"side-menu-open":"side-menu"),children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{onClick:function(){window.scroll(0,0),b(!1),n("/".concat(e.name))},children:(0,p.jsxs)("span",{className:"nav-link",children:[" ",(0,p.jsxs)("p",{className:"text-truncate text-capitalize m-0 p-0",children:[(0,p.jsx)(m.Z,{})," ",e.name]})," ",(0,p.jsx)("small",{children:parseInt(parseInt("".concat(e.linker).split("").reverse().join(""))/1e3)})]})}),(0,p.jsx)("hr",{}),(0,p.jsx)("p",{onClick:function(){window.scroll(0,0),b(!1),n("profile")},children:(0,p.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,p.jsx)(h.Z,{})," ",t.name||t.logger]})}),(0,p.jsx)("hr",{}),1===parseInt(o.admin)&&l>0?(0,p.jsx)(x,{setDrawer:b}):null,(1===parseInt(o.admin)||1===parseInt(o.staff))&&l>0?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{onClick:function(){window.scroll(0,0),b(!1),n("clients")},children:(0,p.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,p.jsx)(j.Z,{})," Clients"]})}),(0,p.jsx)("hr",{})," ",(0,p.jsx)("p",{onClick:function(){window.scroll(0,0),b(!1),n("entries")},children:(0,p.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,p.jsx)(f.Z,{})," Entries"]})}),(0,p.jsx)("hr",{})," ",(0,p.jsx)("p",{onClick:function(){window.scroll(0,0),b(!1),n("applications")},children:(0,p.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,p.jsx)(v.Z,{})," Applications"]})})," ",(0,p.jsx)("hr",{})," "]}):null,1===parseInt(o.client)&&l>0?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{onClick:function(){window.scroll(0,0),b(!1),n("client/applications")},children:(0,p.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,p.jsx)(v.Z,{})," Applications"]})})," ",(0,p.jsx)("hr",{})," "]}):null,(0,p.jsx)("p",{onClick:function(){window.scroll(0,0),b(!1),n("calculator")},children:(0,p.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,p.jsx)(g.Z,{})," Loan Calculator"]})})," "]}),(0,p.jsxs)("p",{children:[l-2592e3<0&&1===parseInt(o.admin)?(0,p.jsx)("span",{onClick:function(){window.scroll(0,0),b(!1),n(e.sub&&0!=e.sub&&""!=e.sub&&isNaN(parseInt(e.sub))?"/".concat(e.name,"/activate-web/").concat(e.name,"/").concat(e.clientId):"/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},className:"text-center",style:{color:"hotpink",cursor:"pointer"},children:(0,p.jsx)("small",{children:"Activate "})}):null," ",(0,p.jsx)("br",{}),(0,p.jsx)("span",{onClick:function(){window.scroll(0,0),n("/".concat(e.name,"/terms")),b(!1)},className:"text-center text-info",style:{cursor:"pointer",fontSize:"12px"},children:(0,p.jsx)("small",{children:"Terms And Conditions "})})," ",(0,p.jsx)("br",{}),(0,p.jsx)("span",{onClick:function(){window.scroll(0,0),n("/".concat(e.name,"/privacy")),b(!1)},className:"text-center text-info",style:{cursor:"pointer",fontSize:"12px"},children:(0,p.jsx)("small",{children:"Privacy Policy "})})," ",(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,p.jsxs)("small",{children:[(0,p.jsx)(w.Z,{})," www.techsystems.world"]})}),(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,p.jsxs)("small",{children:[(0,p.jsx)(I.Z,{})," contact.techsystems@gmail.com"]})}),(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,p.jsxs)("small",{children:["\xa9 ",(new Date).getFullYear()," Techsystems"]})})]})]}),(0,p.jsxs)("div",{className:"".concat(k?"main-page-drawer-open":"main-page-drawer-closed"),children:[l<0?(0,p.jsx)(p.Fragment,{children:c.length>0?(0,p.jsxs)("p",{className:"text-danger text-center h6",children:["Subscription Lapsed"," ",1===parseInt(o.admin)?(0,p.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){window.scroll(0,0),n(e.sub&&0!=e.sub&&""!=e.sub&&isNaN(parseInt(e.sub))?"/".concat(e.name,"/activate-web/").concat(e.name,"/").concat(e.clientId):"/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,p.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]}):(0,p.jsxs)("p",{className:"text-danger text-center h6",children:["Trial Period Lapsed"," ",1===parseInt(o.admin)?(0,p.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){window.scroll(0,0),n(e.sub&&0!=e.sub&&""!=e.sub&&isNaN(parseInt(e.sub))?"/".concat(e.name,"/activate-web/").concat(e.name,"/").concat(e.clientId):"/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,p.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]})}):l<432e3?(0,p.jsx)(p.Fragment,{children:c.length>0?(0,p.jsxs)("p",{className:"text-danger text-center h6",children:["Subscription Lapsing in ",parseInt(l/86400)," ","Days",1===parseInt(o.admin)?(0,p.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){window.scroll(0,0),n(e.sub&&0!=e.sub&&""!=e.sub&&isNaN(parseInt(e.sub))?"/".concat(e.name,"/activate-web/").concat(e.name,"/").concat(e.clientId):"/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,p.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]}):(0,p.jsxs)("p",{className:"text-danger text-center h6",children:["Trial Period Lapsing in ",parseInt(l/86400)," ","Days",1===parseInt(o.admin)?(0,p.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){window.scroll(0,0),n(e.sub&&0!=e.sub&&""!=e.sub&&isNaN(parseInt(e.sub))?"/".concat(e.name,"/activate-web/").concat(e.name,"/").concat(e.clientId):"/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,p.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]})}):null,(0,p.jsx)("div",{className:"bg-light",children:(0,p.jsx)(i.j3,{})})]})]})]})]})}},4169:function(n,e,t){t.d(e,{C:function(){return s}});var s=function(n,e){return n.filter((function(n){return n.softwareId==parseInt(parseInt("".concat(e).split("").reverse().join(""))/1e3)})).sort((function(n,e){return n.linker-e.linker})).reduce((function(n,e){return n.some((function(n){return n.code==e.code}))||n.push(e),n}),[]).map((function(n,t){var s=parseInt(parseInt("".concat(e).split("").reverse().join(""))/1e3),a=0;if(s==n.softwareId){var i=(n.code-s)/(t+2);a=99===i&&0===t||29===i&&t>0?31622400:31622400===i||15811200===i||7905600===i||2635200===i?i:63244800===i?632448e5:0}return a})).reduce((function(n,e){return+n+ +e}),0)+parseInt(e/1e3)+2592e3-parseInt(Date.now()/1e3)}}}]);
//# sourceMappingURL=145.39681294.chunk.js.map